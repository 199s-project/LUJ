	<!DOCTYPE html>
<html>
<head>

<body>
    <h1 style="text-align: center;">Table with Details View</h1>

    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Age</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr data-id="1" data-name="Alice" data-age="25">
                <td>1</td>
                <td>Alice</td>
                <td>25</td>
                <td><button class="details-btn">Details</button></td>
            </tr>
            <tr data-id="2" data-name="Bob" data-age="30">
                <td>2</td>
                <td>Bob</td>
                <td>30</td>
                <td><button class="details-btn">Details</button></td>
            </tr>
            <tr data-id="3" data-name="Charlie" data-age="35">
                <td>3</td>
                <td>Charlie</td>
                <td>35</td>
                <td><button class="details-btn">Details</button></td>
            </tr>
        </tbody>
    </table>

    <div class="details" id="details-view">
        <h3>Details:</h3>
        <p><strong>ID:</strong> <span id="detail-id"></span></p>
        <p><strong>Name:</strong> <span id="detail-name"></span></p>
        <p><strong>Age:</strong> <span id="detail-age"></span></p>
        <button onclick="closeDetails()">Close</button>
    </div>

<script>

public int addRecipe(@RequestParam Map<String,Object> map) throws Exception {
	
	String product_code = (String)map.get("recipe-input1");
	System.out.println(product_code);
	String product_code_replaced = product_code.replaceAll("\\(.*\\)$", "");
	System.out.println(product_code_replaced);
	RecipeVO recipeVO = new RecipeVO();
	recipeVO.setProduct_name((String)map.get("recipe-input2"));
	recipeVO.setProduct_code(product_code_replaced);
	recipeVO.setRecipe_price(Integer.parseInt((String) map.get("recipe-input3")));
	
	int result = projectDAO.insertRecipe(recipeVO);
	
	int product_num = projectDAO.getProductNumByProductCode(product_code_replaced);
	int LastRecipeNum = projectDAO.getLastRecipeNum();
	int i = 1;
	
	for (;;) {
		String a = "material-name-input" + i;
		String b = "material-amount-input" + i;
		i += 1;
		RecipeDetailVO recipeDetailVO = new RecipeDetailVO();
		String material_name = (String)(map.get(a));
		int material_amount = Integer.parseInt((String)(map.get(b)));
		
		if(material_name == "") {
			continue;
		}
		if(material_amount == 0) {
			continue;
		}
		
		recipeDetailVO.setRecipe_num(LastRecipeNum);
		recipeDetailVO.setProduct_num(product_num);
		recipeDetailVO.setMaterial_name(material_name);
		recipeDetailVO.setMaterial_amount(material_amount);
		
		System.out.println(recipeDetailVO);
		
		int result2 = projectDAO.insertRecipeDetail(recipeDetailVO);
	}
}









function rowmaterialChange(event) {
    const currentInput = event.target;
    const currentId = currentInput.id;
    const currentValue = currentInput.value.trim();
    const allInputs = document.querySelectorAll('.material-name-input');

    // Extract k from the id (itemk)
    const k = currentId.replace('material-name-input', '');
    const materialAmountInput = document.getElementById(`material-amount-input${k}`);

    // Check if the value exists in other inputs
    let isDuplicate = false;
    allInputs.forEach(input => {
        if (input !== currentInput && input.value.trim() === currentValue) {
            isDuplicate = true;
        }
    });

    if (isDuplicate) {
        alert('이미 동일한 값이 입력되어 있습니다.');
        currentInput.value = ''; // Clear the current input
        if (materialAmountInput) materialAmountInput.value = ''; // Clear associated unit price
    }
}


</script>










<script>



</script>






</head>
<body>











	<!-- js -->
	<script src="vendors/scripts/core.js"></script>
	<script src="vendors/scripts/script.min.js"></script>
	<script src="vendors/scripts/process.js"></script>
	<script src="vendors/scripts/layout-settings.js"></script>
	<script src="src/plugins/datatables/js/jquery.dataTables.min.js"></script>
	<script src="src/plugins/datatables/js/dataTables.bootstrap4.min.js"></script>
	<script src="src/plugins/datatables/js/dataTables.responsive.min.js"></script>
	<script src="src/plugins/datatables/js/responsive.bootstrap4.min.js"></script>
	<!-- buttons for Export datatable -->
	<script src="src/plugins/datatables/js/dataTables.buttons.min.js"></script>
	<script src="src/plugins/datatables/js/buttons.bootstrap4.min.js"></script>
	<script src="src/plugins/datatables/js/buttons.print.min.js"></script>
	<script src="src/plugins/datatables/js/buttons.html5.min.js"></script>
	<script src="src/plugins/datatables/js/buttons.flash.min.js"></script>
	<script src="src/plugins/datatables/js/pdfmake.min.js"></script>
	<script src="src/plugins/datatables/js/vfs_fonts.js"></script>
	<!-- Datatable Setting js -->
	<script src="vendors/scripts/datatable-setting.js"></script>
	
	<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
	<script>

	</script>
	
	</body>

</html>